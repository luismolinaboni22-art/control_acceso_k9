{% extends "base.html" %}

{% block content %}
<h2 class="fw-bold mb-4">{{ modo }} Usuario</h2>

<form method="POST" class="card p-4 shadow-sm" style="max-width:500px;">

    <div class="mb-3">
        <label class="form-label">Nombre</label>
        <input type="text" name="name" class="form-control"
               value="{{ user.name if user else '' }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Correo</label>
        <input type="email" name="email" class="form-control"
               value="{{ user.email if user else '' }}" required>
    </div>

    <div class="mb-3">
        <label class="form-label">Rol</label>
        <select name="role" class="form-control" required>
            <option value="oficial" {% if user and user.role=='oficial' %}selected{% endif %}>Oficial</option>
            <option value="admin" {% if user and user.role=='admin' %}selected{% endif %}>Admin</option>
            <option value="superadmin" {% if user and user.role=='superadmin' %}selected{% endif %}>Superadmin</option>
        </select>
    </div>

    <div class="mb-3">
        <label class="form-label">
            Contraseña {% if modo == "Editar" %}(dejar vacía para no cambiar){% endif %}
        </label>
        <input type="password" name="password" class="form-control"
               {% if modo == "Crear" %}required{% endif %}>
    </div>

    <button class="btn btn-primary">Guardar</button>
    <a href="{{ url_for('admin_users') }}" class="btn btn-secondary">Cancelar</a>

</form>

{% endblock %}
